<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">

<link rel="import" href="../../auf02/elements/palindrom.html">
<link rel="import" href="../../auf03/elements/synonym-list.html">
<link rel="import" href="../elemnts/longlat.html">
<link rel="import" href="../elemnts/static-map.html">
<link rel="import" href="../elemnts/weather.html">

<polymer-element name="city-info" attributes="city">

    <template>
        <style>
            #city_info{
                background-color: darkslategray;
            }
        </style>

        <div id="city_info">
            <input type="text" value="{{city}}">

            <div name="palindrom">
                <my-palindrom id="mypalindromonetime" word="{{city}}"></my-palindrom>
            </div>
            <div name="synonym">
                <synonym-list-onetime id="synonymlistonetime" word="{{city}}"></synonym-list-onetime>
            </div>
            <div name="location">
                <longlat-comp id="longlatcomp" city="{{city}}"></longlat-comp>
            </div>
            <div name="static-map">
                <static-map id="staticmap" lat="" lng="" zoom="10" height="400" width="400"></static-map>
            </div>
            <div name="weather-info">
                <weather-element id="weatherelement" lat="" lon=""></weather-element>
            </div>
        </div>

    </template>
    <script>
        CityInfo = Polymer({
            city: null,
            palindrom : null,
            syno : null,
            longlat : null,
            staticMap : null,
            weather : null,
            domReady : function(){
                this.palindrom = this.$.mypalindromonetime;
                this.syno = this.$.synonymlistonetime;
                this.longlat = this.$.longlatcomp;
                this.addEventListener('Longlat', function(){
                    this.longlatDone();
                });
                this.staticMap = this.$.staticmap;
                this.weather = this.$.weatherelement;
            },
            longlatDone : function(){
                tmpLat = this.longlat.reLat;
                tmpLng = this.longlat.reLng;

                //static map
                this.staticMap.lat = tmpLat;
                this.staticMap.lng = tmpLng;

                //weather
                this.weather.lat = tmpLat;
                this.weather.lon = tmpLng;
            }
        });
    </script>
</polymer-element>