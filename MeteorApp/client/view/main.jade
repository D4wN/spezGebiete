//
   Created by Niclas on 29.06.2015.
head
    title METEOR - Folder


body
    .container
        header
            div(style="text-align: center")
                h1 Meteor eMail Client

        fieldset
            //h2 Create a New Message
            +newMessage
            //div
            //    form(class="new-msg")
            //            input(type="text" name="folder" class="form-control" placeholder="Type a Folder")
            //            br
            //            textarea(type="text" name="msg" style="width:100%;resize: none"  placeholder="Type a New Message")
            //            div(style="text-align:right")
            //                button(class="btn btn-success" style="margin-top:10px") Submit Post

        ul
            +each Folder
                +folder

template(name="folder")
    li
        h3 {{folder}}
        div(style="background-color:#FAFAFA")
            div(class="form-group")
                form(class="form-inline renameFolderForm")
                    input(type="text" name="text" class="form-control" placeholder="rename {{folder}}")
                    button(class="btn btn-primary" style="margin-left:10px")
                        |Rename Folder
                    button(class="btn btn-danger removeFolder" style="margin-left:10px")
                        | Delete Folder
            br
            div(style="text-align:left")
                button(class="btn btn-primary hideButtonFolder" style="margin-bottom:10px")
                    | Show Mails
            if hideFolderDiv
                div
                    ul
                        +each MessageList
                            +message
                br
                br
                div(style="text-align:center")
                    button(class="btn btn-primary lessMessages")
                        | Less
                    button(class="btn btn-primary moreMessages" style="margin-left:10px")
                        | More



template(name="message")
    li
        fieldset
            if folder
                p
                    if subject
                        b {{subject}}
                    else
                        b No Subject
                //p Parent: {{folder}}
                button(class="btn btn-primary hideButtonMessage")
                    | Show Detail
                if hideMessageDiv
                    +detail
            else
                p "LOADING ..."


template(name="detail")
    div
        br
        br
        table
            tr
                td
                    strong ID:
                td  {{_id}}
            tr
                td
                    strong Subject:
                td  {{subject}}
            tr
                td
                    strong Recipients:
                td
            tr
                td
                    strong Text:
                td
        textarea(type="text" rows="20" style="width:100%;resize: none" disabled="true")
            |{{text}}
        br
        div(class="form-group")
            form(class="form-inline moveMessage")
                input(type="text" name="text" class="form-control" placeholder="rename {{folder}}")
                button(class="btn btn-primary" style="margin-left:10px")
                    |Move Message
                button(class="btn btn-danger removeMessage" style="margin-left:10px")
                    | Delete Message



template(name="newMessage")
    button(type="button" class="btn btn-success btn-lg" data-toggle="modal" data-target="#myModal")
        |Create new Message

    div(class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel")
        div(class="modal-dialog" role="document")
            div(class="modal-content")
                div(class="modal-header")
                    h4(class="modal-title" id="myModalLabel")
                        |Create new Message
                div(class="modal-body")
                    input(type="text" name="folder" id="cnmFolderName" class="form-control" placeholder="Type a Folder")
                    br
                    textarea(type="text" name="msg" id="cnmMessageText" style="width:100%;resize: none"  placeholder="Type a New Message")
                div(class="modal-footer")
                    button(type="button" class="btn btn-default" data-dismiss="modal")
                        | Close
                    button(type="button" class="btn btn-primary saveNewMessage")
                        | Save
